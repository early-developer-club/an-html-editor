import type { HTMLElement } from '../types/editor'

// ì‡¼í•‘ëª° ìƒì„¸ íŽ˜ì´ì§€ ìƒ˜í”Œ í…œí”Œë¦¿ - í”„ë¦¬ë¯¸ì—„ ë¬´ì„  ì´ì–´í°
export const SAMPLE_TEMPLATE: HTMLElement[] = [
  // 1. ìƒí’ˆëª… & ê°€ê²© í—¤ë”
  {
    id: 'header-product',
    type: 'header',
    tagName: 'header',
    style: {
      backgroundColor: '#ffffff',
      padding: '50px 20px',
      textAlign: 'center',
      borderBottom: '1px solid #e5e5e5',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'product-title',
    type: 'h1',
    tagName: 'h1',
    textContent: 'í”„ë¦¬ë¯¸ì—„ ë…¸ì´ì¦ˆìº”ìŠ¬ë§ ë¬´ì„  ì´ì–´í° PRO',
    style: {
      fontSize: '36px',
      fontWeight: 'bold',
      color: '#111111',
      margin: '0 0 20px 0',
      lineHeight: '1.3',
    },
    children: [],
    parentId: 'header-product',
  },
  {
    id: 'product-subtitle',
    type: 'p',
    tagName: 'p',
    textContent: 'ì™„ë²½í•œ ìŒì§ˆ, ìµœìƒì˜ ì°©ìš©ê°, í”„ë¦¬ë¯¸ì—„ ë¼ì´í”„ìŠ¤íƒ€ì¼',
    style: {
      fontSize: '18px',
      color: '#666666',
      margin: '0 0 30px 0',
    },
    children: [],
    parentId: 'header-product',
  },
  {
    id: 'product-price',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#f8f8f8',
      padding: '20px',
      borderRadius: '8px',
      display: 'inline-block',
    },
    children: [],
    parentId: 'header-product',
  },
  {
    id: 'price-original',
    type: 'p',
    tagName: 'p',
    textContent: 'ì •ê°€: 299,000ì›',
    style: {
      fontSize: '16px',
      color: '#999999',
      textDecoration: 'line-through',
      margin: '0 0 8px 0',
    },
    children: [],
    parentId: 'product-price',
  },
  {
    id: 'price-sale',
    type: 'p',
    tagName: 'p',
    textContent: 'íŠ¹ë³„ê°€: 199,000ì› (33% í• ì¸)',
    style: {
      fontSize: '28px',
      color: '#e74c3c',
      fontWeight: 'bold',
      margin: '0',
    },
    children: [],
    parentId: 'product-price',
  },

  // 2. ë©”ì¸ ì´ë¯¸ì§€ ì„¹ì…˜
  {
    id: 'section-main-image',
    type: 'section',
    tagName: 'section',
    style: {
      backgroundColor: '#f5f5f5',
      padding: '80px 20px',
      textAlign: 'center',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'main-image',
    type: 'img',
    tagName: 'img',
    src: 'https://picsum.photos/seed/earbuds-main/600/600',
    alt: 'í”„ë¦¬ë¯¸ì—„ ë¬´ì„  ì´ì–´í° ë©”ì¸ ì´ë¯¸ì§€',
    style: {
      width: '100%',
      maxWidth: '600px',
      height: 'auto',
      margin: '0 auto',
      borderRadius: '12px',
      display: 'block',
    },
    children: [],
    parentId: 'section-main-image',
  },

  // 3. í•µì‹¬ íŠ¹ì§• ì„¹ì…˜
  {
    id: 'section-features',
    type: 'section',
    tagName: 'section',
    style: {
      backgroundColor: '#ffffff',
      padding: '80px 20px',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'features-title',
    type: 'h2',
    tagName: 'h2',
    textContent: 'ì™œ ì´ ì œí’ˆì„ ì„ íƒí•´ì•¼ í• ê¹Œìš”?',
    style: {
      fontSize: '32px',
      fontWeight: 'bold',
      color: '#111111',
      textAlign: 'center',
      marginBottom: '50px',
    },
    children: [],
    parentId: 'section-features',
  },
  {
    id: 'feature-1',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#f0f7ff',
      padding: '30px',
      borderRadius: '8px',
      marginBottom: '20px',
      borderLeft: '4px solid #3498db',
    },
    children: [],
    parentId: 'section-features',
  },
  {
    id: 'feature-1-title',
    type: 'h3',
    tagName: 'h3',
    textContent: 'ðŸŽ§ í”„ë¦¬ë¯¸ì—„ ANC ë…¸ì´ì¦ˆìº”ìŠ¬ë§',
    style: {
      fontSize: '22px',
      fontWeight: 'bold',
      color: '#3498db',
      margin: '0 0 12px 0',
    },
    children: [],
    parentId: 'feature-1',
  },
  {
    id: 'feature-1-desc',
    type: 'p',
    tagName: 'p',
    textContent: 'ìµœëŒ€ -40dBì˜ ê°•ë ¥í•œ ë…¸ì´ì¦ˆ ìº”ìŠ¬ë§ìœ¼ë¡œ ì£¼ë³€ ì†ŒìŒì„ ì™„ë²½í•˜ê²Œ ì°¨ë‹¨í•©ë‹ˆë‹¤. ì§€í•˜ì² , ì¹´íŽ˜, ì‚¬ë¬´ì‹¤ ì–´ë””ì„œë‚˜ ë‚˜ë§Œì˜ ê³µê°„ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.',
    style: {
      fontSize: '16px',
      color: '#555555',
      lineHeight: '1.7',
      margin: '0',
    },
    children: [],
    parentId: 'feature-1',
  },
  {
    id: 'feature-2',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#f0fff4',
      padding: '30px',
      borderRadius: '8px',
      marginBottom: '20px',
      borderLeft: '4px solid #27ae60',
    },
    children: [],
    parentId: 'section-features',
  },
  {
    id: 'feature-2-title',
    type: 'h3',
    tagName: 'h3',
    textContent: 'ðŸ”‹ ì´ˆìž¥ì‹œê°„ ë°°í„°ë¦¬',
    style: {
      fontSize: '22px',
      fontWeight: 'bold',
      color: '#27ae60',
      margin: '0 0 12px 0',
    },
    children: [],
    parentId: 'feature-2',
  },
  {
    id: 'feature-2-desc',
    type: 'p',
    tagName: 'p',
    textContent: 'ë‹¨ í•œ ë²ˆì˜ ì¶©ì „ìœ¼ë¡œ ìµœëŒ€ 30ì‹œê°„ ì—°ì† ìž¬ìƒ! ì¶©ì „ ì¼€ì´ìŠ¤ í¬í•¨ ì‹œ 80ì‹œê°„ ì´ìƒ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ê¸‰ì† ì¶©ì „ìœ¼ë¡œ 10ë¶„ ì¶©ì „ì— 4ì‹œê°„ ìž¬ìƒ.',
    style: {
      fontSize: '16px',
      color: '#555555',
      lineHeight: '1.7',
      margin: '0',
    },
    children: [],
    parentId: 'feature-2',
  },
  {
    id: 'feature-3',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#fff5f5',
      padding: '30px',
      borderRadius: '8px',
      marginBottom: '20px',
      borderLeft: '4px solid #e74c3c',
    },
    children: [],
    parentId: 'section-features',
  },
  {
    id: 'feature-3-title',
    type: 'h3',
    tagName: 'h3',
    textContent: 'ðŸŽµ Hi-Fi ì˜¤ë””ì˜¤ í’ˆì§ˆ',
    style: {
      fontSize: '22px',
      fontWeight: 'bold',
      color: '#e74c3c',
      margin: '0 0 12px 0',
    },
    children: [],
    parentId: 'feature-3',
  },
  {
    id: 'feature-3-desc',
    type: 'p',
    tagName: 'p',
    textContent: '10mm ë‹¤ì´ë‚˜ë¯¹ ë“œë¼ì´ë²„ì™€ AAC/aptX HD ì½”ë± ì§€ì›ìœ¼ë¡œ ìŠ¤íŠœë””ì˜¤ê¸‰ ìŒì§ˆì„ ê²½í—˜í•˜ì„¸ìš”. ê¹Šì€ ì €ìŒë¶€í„° ë§‘ì€ ê³ ìŒê¹Œì§€ ì™„ë²½í•˜ê²Œ ìž¬í˜„í•©ë‹ˆë‹¤.',
    style: {
      fontSize: '16px',
      color: '#555555',
      lineHeight: '1.7',
      margin: '0',
    },
    children: [],
    parentId: 'feature-3',
  },

  // 4. ìƒì„¸ ì„¤ëª… ì„¹ì…˜
  {
    id: 'section-details',
    type: 'section',
    tagName: 'section',
    style: {
      backgroundColor: '#f9f9f9',
      padding: '80px 20px',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'details-title',
    type: 'h2',
    tagName: 'h2',
    textContent: 'ìƒì„¸ ì‚¬ì–‘',
    style: {
      fontSize: '32px',
      fontWeight: 'bold',
      color: '#111111',
      textAlign: 'center',
      marginBottom: '40px',
    },
    children: [],
    parentId: 'section-details',
  },
  {
    id: 'details-content',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#ffffff',
      padding: '40px',
      borderRadius: '8px',
      maxWidth: '700px',
      margin: '0 auto',
    },
    children: [],
    parentId: 'section-details',
  },
  {
    id: 'detail-1',
    type: 'p',
    tagName: 'p',
    textContent: 'â€¢ ë¸”ë£¨íˆ¬ìŠ¤ ë²„ì „: 5.3 (ìµœëŒ€ ì—°ê²° ê±°ë¦¬ 15m)',
    style: {
      fontSize: '16px',
      color: '#333333',
      lineHeight: '2',
      margin: '0 0 12px 0',
      paddingLeft: '10px',
    },
    children: [],
    parentId: 'details-content',
  },
  {
    id: 'detail-2',
    type: 'p',
    tagName: 'p',
    textContent: 'â€¢ ë“œë¼ì´ë²„: 10mm ë‹¤ì´ë‚˜ë¯¹ ë“œë¼ì´ë²„',
    style: {
      fontSize: '16px',
      color: '#333333',
      lineHeight: '2',
      margin: '0 0 12px 0',
      paddingLeft: '10px',
    },
    children: [],
    parentId: 'details-content',
  },
  {
    id: 'detail-3',
    type: 'p',
    tagName: 'p',
    textContent: 'â€¢ ë…¸ì´ì¦ˆ ìº”ìŠ¬ë§: í•˜ì´ë¸Œë¦¬ë“œ ANC (-40dB)',
    style: {
      fontSize: '16px',
      color: '#333333',
      lineHeight: '2',
      margin: '0 0 12px 0',
      paddingLeft: '10px',
    },
    children: [],
    parentId: 'details-content',
  },
  {
    id: 'detail-4',
    type: 'p',
    tagName: 'p',
    textContent: 'â€¢ ë°°í„°ë¦¬: ì´ì–´í° 30ì‹œê°„ + ì¼€ì´ìŠ¤ 50ì‹œê°„',
    style: {
      fontSize: '16px',
      color: '#333333',
      lineHeight: '2',
      margin: '0 0 12px 0',
      paddingLeft: '10px',
    },
    children: [],
    parentId: 'details-content',
  },
  {
    id: 'detail-5',
    type: 'p',
    tagName: 'p',
    textContent: 'â€¢ ë°©ìˆ˜: IPX5 ë“±ê¸‰ (ìƒí™œ ë°©ìˆ˜)',
    style: {
      fontSize: '16px',
      color: '#333333',
      lineHeight: '2',
      margin: '0 0 12px 0',
      paddingLeft: '10px',
    },
    children: [],
    parentId: 'details-content',
  },
  {
    id: 'detail-6',
    type: 'p',
    tagName: 'p',
    textContent: 'â€¢ ë¬´ê²Œ: ì´ì–´í° 5.5g (íŽ¸ë‹¹) / ì¼€ì´ìŠ¤ 45g',
    style: {
      fontSize: '16px',
      color: '#333333',
      lineHeight: '2',
      margin: '0',
      paddingLeft: '10px',
    },
    children: [],
    parentId: 'details-content',
  },

  // 5. ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ ì„¹ì…˜
  {
    id: 'section-gallery',
    type: 'section',
    tagName: 'section',
    style: {
      backgroundColor: '#ffffff',
      padding: '80px 20px',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'gallery-title',
    type: 'h2',
    tagName: 'h2',
    textContent: 'ìƒí’ˆ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬',
    style: {
      fontSize: '32px',
      fontWeight: 'bold',
      color: '#111111',
      textAlign: 'center',
      marginBottom: '50px',
    },
    children: [],
    parentId: 'section-gallery',
  },
  {
    id: 'gallery-image-1',
    type: 'img',
    tagName: 'img',
    src: 'https://picsum.photos/seed/earbuds-wearing/800/400',
    alt: 'ì´ì–´í° ì°©ìš© ì´ë¯¸ì§€',
    style: {
      width: '100%',
      height: 'auto',
      marginBottom: '20px',
      borderRadius: '8px',
      display: 'block',
    },
    children: [],
    parentId: 'section-gallery',
  },
  {
    id: 'gallery-image-2',
    type: 'img',
    tagName: 'img',
    src: 'https://picsum.photos/seed/earbuds-detail/800/400',
    alt: 'ì´ì–´í° ë””í…Œì¼ ì´ë¯¸ì§€',
    style: {
      width: '100%',
      height: 'auto',
      marginBottom: '20px',
      borderRadius: '8px',
      display: 'block',
    },
    children: [],
    parentId: 'section-gallery',
  },
  {
    id: 'gallery-image-3',
    type: 'img',
    tagName: 'img',
    src: 'https://picsum.photos/seed/earbuds-colors/800/400',
    alt: 'ì´ì–´í° ìƒ‰ìƒ ì˜µì…˜ ì´ë¯¸ì§€',
    style: {
      width: '100%',
      height: 'auto',
      marginBottom: '20px',
      borderRadius: '8px',
      display: 'block',
    },
    children: [],
    parentId: 'section-gallery',
  },

  // 6. êµ¬ë§¤ ì •ë³´ ì„¹ì…˜
  {
    id: 'section-purchase',
    type: 'section',
    tagName: 'section',
    style: {
      backgroundColor: '#3498db',
      padding: '60px 20px',
      textAlign: 'center',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'purchase-title',
    type: 'h2',
    tagName: 'h2',
    textContent: 'ì§€ê¸ˆ ë°”ë¡œ êµ¬ë§¤í•˜ì„¸ìš”!',
    style: {
      fontSize: '36px',
      fontWeight: 'bold',
      color: '#ffffff',
      margin: '0 0 20px 0',
    },
    children: [],
    parentId: 'section-purchase',
  },
  {
    id: 'purchase-desc',
    type: 'p',
    tagName: 'p',
    textContent: 'âœ“ ë¬´ë£Œë°°ì†¡  âœ“ 30ì¼ ë¬´ë£Œ ë°˜í’ˆ  âœ“ 1ë…„ A/S ë³´ì¦',
    style: {
      fontSize: '18px',
      color: '#ffffff',
      margin: '0 0 30px 0',
    },
    children: [],
    parentId: 'section-purchase',
  },
  {
    id: 'purchase-button',
    type: 'button',
    tagName: 'button',
    textContent: 'êµ¬ë§¤í•˜ê¸°',
    style: {
      backgroundColor: '#ffffff',
      color: '#3498db',
      padding: '18px 60px',
      fontSize: '20px',
      fontWeight: 'bold',
      border: 'none',
      borderRadius: '50px',
      cursor: 'pointer',
    },
    children: [],
    parentId: 'section-purchase',
  },

  // 7. ê³ ê° í›„ê¸° ì„¹ì…˜
  {
    id: 'section-reviews',
    type: 'section',
    tagName: 'section',
    style: {
      backgroundColor: '#f9f9f9',
      padding: '80px 20px',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'reviews-title',
    type: 'h2',
    tagName: 'h2',
    textContent: 'ê³ ê° í›„ê¸°',
    style: {
      fontSize: '32px',
      fontWeight: 'bold',
      color: '#111111',
      textAlign: 'center',
      marginBottom: '50px',
    },
    children: [],
    parentId: 'section-reviews',
  },
  {
    id: 'review-1',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#ffffff',
      padding: '30px',
      borderRadius: '8px',
      marginBottom: '20px',
      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
    },
    children: [],
    parentId: 'section-reviews',
  },
  {
    id: 'review-1-rating',
    type: 'p',
    tagName: 'p',
    textContent: 'â­â­â­â­â­ 5.0',
    style: {
      fontSize: '18px',
      color: '#f39c12',
      margin: '0 0 12px 0',
      fontWeight: 'bold',
    },
    children: [],
    parentId: 'review-1',
  },
  {
    id: 'review-1-text',
    type: 'p',
    tagName: 'p',
    textContent: 'ìŒì§ˆì´ ì •ë§ ì¢‹ì•„ìš”! ë…¸ì´ì¦ˆìº”ìŠ¬ë§ë„ ì™„ë²½í•˜ê³  ë°°í„°ë¦¬ë„ ì˜¤ëž˜ê°€ì„œ ë§¤ìš° ë§Œì¡±í•©ë‹ˆë‹¤. ê°€ê²© ëŒ€ë¹„ ìµœê³ ì˜ ì„ íƒì´ì—ˆì–´ìš”.',
    style: {
      fontSize: '16px',
      color: '#555555',
      lineHeight: '1.7',
      margin: '0 0 12px 0',
    },
    children: [],
    parentId: 'review-1',
  },
  {
    id: 'review-1-author',
    type: 'p',
    tagName: 'p',
    textContent: '- ê¹€**ë‹˜',
    style: {
      fontSize: '14px',
      color: '#999999',
      margin: '0',
      textAlign: 'right',
    },
    children: [],
    parentId: 'review-1',
  },
  {
    id: 'review-2',
    type: 'div',
    tagName: 'div',
    style: {
      backgroundColor: '#ffffff',
      padding: '30px',
      borderRadius: '8px',
      marginBottom: '20px',
      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
    },
    children: [],
    parentId: 'section-reviews',
  },
  {
    id: 'review-2-rating',
    type: 'p',
    tagName: 'p',
    textContent: 'â­â­â­â­â­ 5.0',
    style: {
      fontSize: '18px',
      color: '#f39c12',
      margin: '0 0 12px 0',
      fontWeight: 'bold',
    },
    children: [],
    parentId: 'review-2',
  },
  {
    id: 'review-2-text',
    type: 'p',
    tagName: 'p',
    textContent: 'ì°©ìš©ê°ì´ íŽ¸í•˜ê³  ë””ìžì¸ë„ ì„¸ë ¨ë˜ì–´ìš”. ì¶œí‡´ê·¼í•  ë•Œ ë§¤ì¼ ì‚¬ìš©í•˜ëŠ”ë° í•˜ë£¨ì¢…ì¼ ì¨ë„ ê·€ê°€ ì•ˆ ì•„íŒŒìš”. ê°•ë ¥ ì¶”ì²œí•©ë‹ˆë‹¤!',
    style: {
      fontSize: '16px',
      color: '#555555',
      lineHeight: '1.7',
      margin: '0 0 12px 0',
    },
    children: [],
    parentId: 'review-2',
  },
  {
    id: 'review-2-author',
    type: 'p',
    tagName: 'p',
    textContent: '- ì´**ë‹˜',
    style: {
      fontSize: '14px',
      color: '#999999',
      margin: '0',
      textAlign: 'right',
    },
    children: [],
    parentId: 'review-2',
  },

  // 8. í‘¸í„°
  {
    id: 'footer-info',
    type: 'footer',
    tagName: 'footer',
    style: {
      backgroundColor: '#2c3e50',
      color: '#ecf0f1',
      padding: '50px 20px',
      textAlign: 'center',
    },
    children: [],
    parentId: null,
  },
  {
    id: 'footer-company',
    type: 'p',
    tagName: 'p',
    textContent: 'í”„ë¦¬ë¯¸ì—„ ì˜¤ë””ì˜¤ ìŠ¤í† ì–´',
    style: {
      fontSize: '20px',
      fontWeight: 'bold',
      margin: '0 0 20px 0',
    },
    children: [],
    parentId: 'footer-info',
  },
  {
    id: 'footer-contact',
    type: 'p',
    tagName: 'p',
    textContent: 'ê³ ê°ì„¼í„°: 1588-0000 | ì´ë©”ì¼: support@premium-audio.com',
    style: {
      fontSize: '14px',
      color: '#95a5a6',
      margin: '0 0 10px 0',
    },
    children: [],
    parentId: 'footer-info',
  },
  {
    id: 'footer-copyright',
    type: 'p',
    tagName: 'p',
    textContent: 'Â© 2025 Premium Audio Store. All rights reserved.',
    style: {
      fontSize: '12px',
      color: '#7f8c8d',
      margin: '0',
    },
    children: [],
    parentId: 'footer-info',
  },
]

// ë¶€ëª¨-ìžì‹ ê´€ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ children ë°°ì—´ì„ ì±„ìš°ëŠ” í•¨ìˆ˜
export function buildElementTree(elements: HTMLElement[]): HTMLElement[] {
  const elementMap = new Map(elements.map((el) => [el.id, { ...el }]))

  // children ë°°ì—´ ì´ˆê¸°í™”
  elementMap.forEach((el) => {
    el.children = []
  })

  // ë¶€ëª¨-ìžì‹ ê´€ê³„ êµ¬ì¶•
  elementMap.forEach((el) => {
    if (el.parentId) {
      const parent = elementMap.get(el.parentId)
      if (parent) {
        parent.children.push(el)
      }
    }
  })

  // ìµœìƒìœ„ ìš”ì†Œë§Œ ë°˜í™˜ (parentIdê°€ nullì¸ ìš”ì†Œ)
  return Array.from(elementMap.values()).filter((el) => el.parentId === null)
}
